{"remainingRequest":"/Users/uu/Desktop/ncov_before/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/uu/Desktop/ncov_before/src/components/companySummary/wordCloud.vue?vue&type=style&index=0&id=c6e37e96&lang=scss&scoped=true&","dependencies":[{"path":"/Users/uu/Desktop/ncov_before/src/components/companySummary/wordCloud.vue","mtime":1594128260335},{"path":"/Users/uu/Desktop/ncov_before/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uu/Desktop/ncov_before/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/uu/Desktop/ncov_before/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/uu/Desktop/ncov_before/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uu/Desktop/ncov_before/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uu/Desktop/ncov_before/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi53b3JkLWNvbnRhaW5lciB7CiAgLmNoYXJ0IHsKICAgIGhlaWdodDogM3JlbTsKICB9Cn0K"},{"version":3,"sources":["wordCloud.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA","file":"wordCloud.vue","sourceRoot":"src/components/companySummary","sourcesContent":["<!--\n 描述: 产品热词\n 作者: Jack Chen\n 日期: 2020-05-09\n-->\n\n<template>\n  <div class=\"word-container\">\n    <div class=\"chart\" id=\"chart_right1\"></div>\n  </div>\n</template>\n\n<script>\nimport '@/assets/js/echarts-wordcloud.min'\nimport {getWorldClouds} from '../../network/news'\nimport axios from \"axios\";\n\nexport default {\n  name: \"wordCloud\",\n  data() {\n    return {\n      timer: null,\n      listdata:[]\n    }\n  },\n  created() {\n    getWorldClouds().then(res => {\n      console.log(res)\n      this.listData = res.data\n    })\n  },\n  mounted() {\n    this.getEchartRight1();\n    this.timer = setInterval(() => {\n      this.getEchartRight1();\n    }, 5000)\n  },\n  methods: {\n    getEchartRight1() {\n      var instance = axios.create({ headers: {'content-type': 'application/x-www-form-urlencoded'} });\n      instance.post('http://localhost:8080/api/worldClouds'\n              // eslint-disable-next-line no-undef\n      ).then(response => {\n        console.log(response.data);\n        var datak = response.data;\n        var len = response.data.length;\n        // eslint-disable-next-line no-undef\n        var listdata = [];\n        //      console.log(this.listdata);\n        for (var i = 0; i < len; i++) {\n          var info = {};\n          info.name = datak[i].name;\n          info.value = datak[i].value;\n          listdata.push(info);\t//把info里面的数据追加到data里\n        }\n        console.log(listdata);\n        let myChart = echarts.init(document.getElementById('chart_right1'));\n        let option = {\n          // tooltip: {\n          //   show: false\n          // },\n          series: [{\n            type: 'wordCloud',\n            gridSize: 1,\n            sizeRange: [12, 50],\n            rotationRange: [-90, 90],\n            rotationStep: 45,\n            shape: 'diamond',\n            width: '90%',\n            textPadding: 0,\n            autoSize: {\n              enable: true,\n              minSize: 6\n            },\n            textStyle: {\n              normal: {\n                textBorderColor: 'rgba(255,255,255,0.3)',\n                textBorderWidth: 1,\n                color: () => {\n                  return 'rgb(' + [\n                    Math.round(Math.random() * 160),\n                    Math.round(Math.random() * 160),\n                    Math.round(Math.random() * 160)\n                  ].join(',') + ')';\n                }\n              },\n              emphasis: {\n                fontSize: 20,\n                // shadowBlur: 10,\n                // shadowColor: 'rgba(255,255,255, .1)'\n              }\n            },\n            data: listdata\n          }]\n        }\n      myChart.setOption(option, true);\n      window.addEventListener('resize', () => {\n        myChart.resize();\n      });\n      });\n    },\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.word-container {\n  .chart {\n    height: 3rem;\n  }\n}\n</style>\n"]}]}